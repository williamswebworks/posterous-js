<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>Posterous API Test - posterousjs.reading.getSites</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <style>
        .site {
            padding: 5px;
            border-bottom: 1px solid #000000;
        }
    </style>
</head>
<body>
<h3>Your Posterous Sites</h3>
<div id="posterous-sites">
</div>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script src="../../../jquery.xml2json.pack.js"></script>
<script src="../../../posterous-js.js"></script>
<script>
$(document).ready(function() {
    var handleSites = function(sites) {
        var container = $('#posterous-sites');
        for (var i = 0; i < sites.length; i++) {
            $(container).append('<div id="' + sites[i].id + '" class="site"></div>');
            var d = $('div#'+sites[i].id);
            d.append('id: ' + sites[i].id + '<br/>');
            d.append('name: ' + sites[i].name + '<br/>');
            d.append('url: ' + sites[i].url + '<br/>');
            d.append('is_private: ' + sites[i].is_private + '<br/>');
            d.append('is_primary: ' + sites[i].is_primary + '<br/>');
            d.append('comments_enabled: ' + sites[i].comments_enabled + '<br/>');
            d.append('num_posts: ' + sites[i].num_posts + '<br/>');
        }
    };

    posterousjs.reading.getSites(handleSites);
});
</script>
</html>
